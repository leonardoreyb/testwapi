<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="TwpProveedorCreateDlg" widgetVar="TwpProveedorCreateDialog" modal="true" width="700" height="600" appendTo="@(body)" header="Crear Proveedor">
            <h:form id="TwpProveedorCreateForm">
                <h:panelGroup id="display">
                    <p:panelGrid rendered="#{twpProveedorController.selected != null}">
                        <p:row>
                            <p:column>
                                <h:outputLabel for="tprovCod" value="Nit :"/>    
                            </p:column>
                            <p:column>
                                <p:inputText id="tprovCod" value="#{twpProveedorController.selected.tprovCod}" required="true"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel for="tprovNom" value="Nombre :"/>    
                            </p:column>
                            <p:column>
                                <p:inputText id="tprovNom" value="#{twpProveedorController.selected.tprovNom}" required="true"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel for="tprovDir" value="Dirección :"/>    
                            </p:column>
                            <p:column>
                                <p:inputText id="tprovDir" value="#{twpProveedorController.selected.tprovDir}" required="false" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel for="tprovTel" value="Teléfono :"/>    
                            </p:column>
                            <p:column>
                                <p:inputText id="tprovTel" value="#{twpProveedorController.selected.tprovTel}" required="false" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel for="tprovTipo" value="Tipo :"/>    
                            </p:column>
                            <p:column>
                                <p:selectOneListbox id="tprovTipo" value="#{twpProveedorController.selected.tprovTipo}">
                                    <f:selectItem itemLabel="Contratista" itemValue="C" />
                                    <f:selectItem itemLabel="Proveedor" itemValue="P" />
                                </p:selectOneListbox>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Categoría :" for="categoria" />
                            </p:column>
                            <p:column>
                                <p:autoComplete id="categoria" value="#{twpProveedorController.selected.twCategoriaTcategId}" completeMethod="#{twpCategController.completeCategoria}"
                                                var="category" itemLabel="#{category.tcatDet}" itemValue="#{category}" forceSelection="true" />
                            </p:column>
                            <p:column>
                                <p:commandButton 
                                    value="Agregar categoría"
                                    actionListener="#{twpCategController.prepareCreate}" 
                            process="@this"
                            oncomplete="PF('TwpCategCreateDialog').show()"
                            update=":TwpCategCreateForm"
                                    />  
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Ciudad :" for="cities" />
                            </p:column>
                            <p:column>
                                <p:autoComplete id="cities" value="#{twpProveedorController.selected.twpCiudadTciudId}" completeMethod="#{twpCiudadController.completeCity}"
                                                var="city" itemLabel="#{city.tciudNombre}" itemValue="#{city}" forceSelection="true" />
                            </p:column>
                            <p:column>
                                <p:commandButton
                                    value="Agregar ciudad"
                                    actionListener="#{twpCiudadController.prepareCreate}" 
                            process="@this"
                            oncomplete="PF('TwpCiudadCreateDialog').show()"
                            update=":TwpCiudadCreateForm"/>  
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Contacto :" for="contacts" />
                            </p:column>
                            <p:column>
                                <p:autoComplete id="contacts" value="#{twpProveedorController.selected.twpContactTcontId}" completeMethod="#{twpContactController.completeContact}"
                                                var="contact" itemLabel="#{contact.tcontNombre}" itemValue="#{contact}" forceSelection="true" />
                            </p:column>
                            
                        <p:column>
            
                            <p:commandButton 
                            value="Agregar contacto"
                            actionListener="#{twpContactController.prepareCreate}" 
                            process="@this"
                            oncomplete="PF('TwpContactCreateDialog').show()"
                            update=":TwpContactCreateForm"/>
                                                       
                        </p:column>  
                          
                        </p:row>
                         <p:row>
                            <p:column>
                                <h:outputLabel for="cuenta" value="Numero de cuenta :"/>    
                            </p:column>
                            <p:column>
                                <p:inputText id="tprovcta" value="#{twpProveedorController.selected.tprovId}" required="true"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton actionListener="#{twpProveedorController.create}" value="#{bundle.Save}" update="display,:TwpProveedorListForm:datalist,:growl" oncomplete="handleSubmit(args,'TwpProveedorCreateDialog');"/>
                    <p:commandButton value="#{bundle.Cancel}" onclick="TwpProveedorCreateDialog.hide()"/>
                </h:panelGroup>
            </h:form>
                    <ui:include src="CreateContact.xhtml"/>
                    <ui:include src="CreateCateg.xhtml"/>
                    <ui:include src="CreateCiud.xhtml"/>
          </p:dialog>

        
        
            
    </ui:composition>
</html>
